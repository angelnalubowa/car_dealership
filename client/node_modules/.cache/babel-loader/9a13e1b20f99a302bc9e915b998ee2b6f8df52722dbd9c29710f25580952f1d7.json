{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rosette\\\\Downloads\\\\CarDealershipManagementSystem2\\\\client\\\\src\\\\pages\\\\Listing.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Card, CardContent } from \"../components/card\";\nimport { Button } from \"../components/button\";\nimport { Input } from \"../components/input\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListingsPage = () => {\n  _s();\n  const [activeCategory, setActiveCategory] = useState(\"cars\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [listings, setListings] = useState({\n    cars: [],\n    carSales: [],\n    trips: [],\n    accessories: []\n  });\n  useEffect(() => {\n    // Fetch all categories data from the backend\n    const fetchListings = async () => {\n      try {\n        const [cars, carSales, trips, accessories] = await Promise.all([fetch(\"/cars\").then(res => res.json()), fetch(\"/car-sales\").then(res => res.json()), fetch(\"/trips\").then(res => res.json()), fetch(\"/accessories\").then(res => res.json())]);\n        setListings({\n          cars,\n          carSales,\n          trips,\n          accessories\n        });\n      } catch (error) {\n        console.error(\"Error fetching listings:\", error);\n      }\n    };\n    fetchListings();\n  }, []);\n  const handleDelete = async (category, id) => {\n    try {\n      await fetch(`/${category}/${id}`, {\n        method: \"DELETE\"\n      });\n      setListings(prev => ({\n        ...prev,\n        [category]: prev[category].filter(item => item.id !== id)\n      }));\n    } catch (error) {\n      console.error(\"Error deleting item:\", error);\n    }\n  };\n  const renderListings = () => {\n    const filteredListings = listings[activeCategory].filter(item => Object.values(item).some(value => value.toString().toLowerCase().includes(searchQuery.toLowerCase())));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: filteredListings.map(item => /*#__PURE__*/_jsxDEV(Card, {\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: Object.entries(item).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [key, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 23\n                }, this), \" \", value]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                className: \"mr-2\",\n                onClick: () => console.log(\"Edit\", item.id),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"destructive\",\n                onClick: () => handleDelete(activeCategory, item.id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setActiveCategory(\"cars\"),\n        children: \"Cars\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setActiveCategory(\"carSales\"),\n        children: \"Car Sales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setActiveCategory(\"trips\"),\n        children: \"Trips\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setActiveCategory(\"accessories\"),\n        children: \"Accessories\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      placeholder: \"Search by name\",\n      value: searchQuery,\n      onChange: e => setSearchQuery(e.target.value),\n      className: \"mb-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), renderListings()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n_s(ListingsPage, \"EzzGAJRprTwZILpb+80KY83ExhM=\");\n_c = ListingsPage;\nexport default ListingsPage;\nvar _c;\n$RefreshReg$(_c, \"ListingsPage\");","map":{"version":3,"names":["React","useEffect","useState","Card","CardContent","Button","Input","jsxDEV","_jsxDEV","ListingsPage","_s","activeCategory","setActiveCategory","searchQuery","setSearchQuery","listings","setListings","cars","carSales","trips","accessories","fetchListings","Promise","all","fetch","then","res","json","error","console","handleDelete","category","id","method","prev","filter","item","renderListings","filteredListings","Object","values","some","value","toString","toLowerCase","includes","children","map","className","entries","key","fileName","_jsxFileName","lineNumber","columnNumber","onClick","log","variant","placeholder","onChange","e","target","_c","$RefreshReg$"],"sources":["C:/Users/Rosette/Downloads/CarDealershipManagementSystem2/client/src/pages/Listing.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Card, CardContent } from \"../components/card\";\nimport { Button } from \"../components/button\";\nimport { Input } from \"../components/input\";\n\nconst ListingsPage = () => {\n  const [activeCategory, setActiveCategory] = useState(\"cars\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [listings, setListings] = useState({ cars: [], carSales: [], trips: [], accessories: [] });\n\n  useEffect(() => {\n    // Fetch all categories data from the backend\n    const fetchListings = async () => {\n      try {\n        const [cars, carSales, trips, accessories] = await Promise.all([\n          fetch(\"/cars\").then((res) => res.json()),\n          fetch(\"/car-sales\").then((res) => res.json()),\n          fetch(\"/trips\").then((res) => res.json()),\n          fetch(\"/accessories\").then((res) => res.json()),\n        ]);\n        setListings({ cars, carSales, trips, accessories });\n      } catch (error) {\n        console.error(\"Error fetching listings:\", error);\n      }\n    };\n    fetchListings();\n  }, []);\n\n  const handleDelete = async (category, id) => {\n    try {\n      await fetch(`/${category}/${id}`, { method: \"DELETE\" });\n      setListings((prev) => ({\n        ...prev,\n        [category]: prev[category].filter((item) => item.id !== id),\n      }));\n    } catch (error) {\n      console.error(\"Error deleting item:\", error);\n    }\n  };\n\n  const renderListings = () => {\n    const filteredListings = listings[activeCategory].filter((item) =>\n      Object.values(item).some((value) =>\n        value.toString().toLowerCase().includes(searchQuery.toLowerCase())\n      )\n    );\n\n    return (\n      <div>\n        {filteredListings.map((item) => (\n          <Card key={item.id} className=\"mb-4\">\n            <CardContent>\n              <div className=\"flex justify-between items-center\">\n                <div>\n                  {Object.entries(item).map(([key, value]) => (\n                    <p key={key}>\n                      <strong>{key}:</strong> {value}\n                    </p>\n                  ))}\n                </div>\n                <div>\n                  <Button\n                    className=\"mr-2\"\n                    onClick={() => console.log(\"Edit\", item.id)}\n                  >\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"destructive\"\n                    onClick={() => handleDelete(activeCategory, item.id)}\n                  >\n                    Delete\n                  </Button>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"p-4\">\n      <div className=\"flex space-x-4 mb-4\">\n        <Button onClick={() => setActiveCategory(\"cars\")}>Cars</Button>\n        <Button onClick={() => setActiveCategory(\"carSales\")}>Car Sales</Button>\n        <Button onClick={() => setActiveCategory(\"trips\")}>Trips</Button>\n        <Button onClick={() => setActiveCategory(\"accessories\")}>Accessories</Button>\n      </div>\n      <Input\n        placeholder=\"Search by name\"\n        value={searchQuery}\n        onChange={(e) => setSearchQuery(e.target.value)}\n        className=\"mb-4\"\n      />\n      {renderListings()}\n    </div>\n  );\n};\n\nexport default ListingsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}